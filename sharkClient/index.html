<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="../lib/underscore.js"></script>
    <script src="../lib/jquery.js"></script>
    <script src="../lib/backbone.js"></script>
    <script src="../lib/handlebars.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="Guess.js"></script>
    <script src="Guesses.js"></script>
    <script src="Game.js"></script>
    <script src="App.js"></script>
    <script src="GuessView.js"></script>
    <script src="GuessesView.js"></script>
    <script src="GameView.js"></script>
    <script src="AppView.js"></script>
  </head>
  <body>
    <script>
      var port = 8080; //local testing
      var ip = "10.0.1.33" //local testing
      window.socket = io.connect('http://' + ip + ':8080') //Local testing
      //window.socket = io.connect('http://shark.jit.su')  //Deployment Code for Nodejitsu
      
      $(document).on('ready',function(){
        $('.startGame').on('click', startGame);
        $('.setName').on('keyup',function(e){
          if(event.which === 13){
            startGame();
          }
        });
        function startGame(){
          console.log("starting a game");
          if ($('.setName').val() !== ''){
            var a = new App({name: $('.setName').val()});
            var av = new AppView({model: a});
            $('.startMessages').text('Waiting for Opponent');
            $('.setName').prop('disabled',true);
            a.on('update', function(){
              $('.wrapper').remove();
              $('body').append(av.render());
            });
          } else {
            $('.startMessages').text('Please enter a name');
          }
        }
      });
    </script>
    <div class="wrapper">
      <header> Welcome to Shark</header>
      <div class="main">
        <div id="instructions" class="gameWrapper">
          <section id="gamePlay">
            <input class="setName" placeholder="Enter your name">
            <section class="rules">
              <h2>How to Play</h2>
              <ol>
                <li>Choose a 4 letter word.  No anagrams.  No duplicate letters.  No fake words.</li>
                <li>Guess your opponent's word.</li>
                <li>See how many letters in your guess match letters in your opponent's word.</li>
                <li>The first player to guess his opponent's word wins.</li>
                <li>Good Luck!</li>
              </ol>
            </section>
            <button class="startGame">Got it.</button>
            <h2 class="startMessages"></h2>
          </section>
        </div>
      </div>
    </div>
  </body>
</html>
